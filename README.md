# Правила игры в Wordle

**Цель игры:**
Цель игры — угадать скрытое 5-буквенное слово за минимальное количество попыток.

## Основные правила:

1. **В начале игры** вам будет предложено угадать скрытое слово. Это слово состоит из 5 букв, и оно выбрано случайным образом из заранее определённого списка слов.

2. **Каждый ход** — вы вводите 5-буквенное слово, которое, по вашему мнению, может быть правильным. После этого игра предоставляет вам обратную связь в виде цветной кодировки:
   - **Зелёный** — буква на правильной позиции. Например, если вы угадали букву в правильном месте, она будет выделена зелёным цветом.
   - **Жёлтый** — буква присутствует в слове, но находится не на той позиции. Например, если в вашем предположении есть буква, которая есть в скрытом слове, но стоит не на своём месте, она будет выделена жёлтым цветом.
   - **Чёрный (или серый)** — буква отсутствует в слове. Например, если в вашем слове есть буква, которой нет в скрытом слове, она будет чёрной или серой.

3. **Количество попыток** — у вас есть ограниченное количество попыток, обычно 6. Если после 6 попыток вы не угадали слово, игра считается проигранной.

4. **Победа** — вы побеждаете, если угадали слово за 6 или меньше попыток.

5. **Конец игры** — игра заканчивается, когда вы либо угадаете слово, либо исчерпаете все попытки. Если вы не угадаете слово, оно будет раскрыто, и игра завершится.


# Мотивация
Мне стало интересно решить эту задачу для набора, состоящий из русских слов
Я хочу не только уметь решать задачу, а также минимизировать количество затраченных ходов (результаты в конце документации)
Я нашел словарь из 100 тысяч слов, в котором отобрал слова из 5 букв
Их получилось порядка 10 тысяч


# Документация для решения игры Wordle

# main.py

Этот скрипт предназначен для решения игры Wordle с использованием стратегии, основанной на предположении, что для данного хода существует некоторый рейтинг слов
На каждом шаге мы будем выбирать слово с наибольшим рейтингом (подробнее можно узнать ниже или по ссылке https://www.youtube.com/watch?v=v68zYyaEmEA)

## Содержание
1. [Обзор](#обзор)
2. [Установка](#установка)
3. [Функции](#функции)
4. [Основной процесс программы](#основной-процесс-программы)
5. [Запуск программы](#запуск-программы)
6. [Лицензия](#лицензия)

## Обзор
Скрипт предназначен для решения игры Wordle, используя список возможных русских слов, вычисляет рейтинги для каждого слова и сужает список возможных угадываний на основе обратной связи от пользователя. Обратная связь представляет собой конфигурацию, где:
- `0` означает, что буквы нет в слове.
- `1` означает, что буква есть в слове, но в другом месте.
- `2` означает, что буква находится на правильной позиции.

Программа использует параллельные вычисления для более быстрой оценки слов, что ускоряет процесс угадывания.

## Установка

### Требования
- Python 3.6+
- `colorama` для цветного вывода в терминале
- `tqdm` для индикатора прогресса
- `multiprocessing` для параллельных вычислений
- Файл `100000-russian-words.txt` с перечнем слов (по одному слову на строку).

### Установка
1. Установите необходимые пакеты:
   ```bash
   pip install colorama tqdm


## Функции

---

### `wordle_dict()`
Загружает список слов из файла `100000-russian-words.txt` и возвращает список допустимых 5-буквенных слов в нижнем регистре, где буква `ё` заменена на `е`.

---

### `is_valid_word_for_configuration(word, conf, assumption_word)`
Проверяет, является ли слово допустимым для заданной конфигурации. Конфигурация — это список из 5 целых чисел, где:
- `0` означает, что буквы нет в слове.
- `1` означает, что буква есть в слове, но в другом месте.
- `2` означает, что буква на правильной позиции.

---

### `get_configuration(word, correct_word)`
Сравнивает угаданное слово с правильным и возвращает конфигурацию, которая указывает на правильность каждой буквы.

---


### `raiting_word(word, possibility_word)`
Вычисляет рейтинг слова, исходя из того, какие слова могут соответствовать данному. Рейтинг помогает определить, какое слово лучше всего попробовать.

Вот улучшенная версия текста, с добавлением формулы для математического ожидания:

---

Идея заключается в том, чтобы для каждого слова и каждой возможной конфигурации (например, 01020) вычислить вероятность того, что слово будет соответствовать данной конфигурации. Это будет доля слов, которые могут быть допустимыми для указанной конфигурации.

Если немного поразмыслить, становится очевидным, что если мы суммируем вероятности конфигураций \( p \), умноженные на \( \log_2 \left( \frac{1}{p} \right) \), то мы получим величину, близкую к математическому ожиданию количества бит информации, на которые мы сократили наши данные.

Формула для этого математического ожидания выглядит следующим образом:

\[
H = - \sum_{i=1}^{n} p_i \cdot \log_2(p_i)
\]

где:
- \( p_i \) — вероятность конфигурации \( i \),
- \( n \) — количество возможных конфигураций,
- \( H \) — энтропия, или математическое ожидание информации.

Таким образом, это выражение отражает среднее количество бит информации, которое мы получаем, анализируя возможные конфигурации слов.

---

### `get_next_possibility_word(possibility_word, conf, assumption_word)`
Отфильтровывает те слова, которые больше не могут быть правильными, учитывая текущую конфигурацию.

---

### `print_configuration(assumption_word, conf)`
Выводит конфигурацию угаданного слова с использованием цвета:
- Зелёный — правильная буква на правильной позиции.
- Жёлтый — правильная буква, но на неправильной позиции.
- Чёрный — неправильная буква.

---

### `print_history(history)`
Выводит историю всех угадываний и их конфигураций.

---

### `calculate_ratings_in_parallel(valid_words, possibility_word, pool)`
Вычисляет рейтинги для всех возможных слов параллельно с использованием нескольких ядер процессора.

---

### `worker_raiting_word(args)`
Вспомогательная функция для вычисления рейтинга слова с использованием `raiting_word`.

---

### `best_word()`
Вычисляет и возвращает лучшее слово для угадывания, основываясь на рейтингах возможных слов.

---

## Основной процесс программы

Основной цикл программы работает следующим образом:
1. Вычисляются рейтинги для всех допустимых слов.
2. Слова сортируются по рейтингам, и выводится топ-10 возможных угадываний.
3. Пользователь вводит своё предположение (слово из 5 букв).
4. Пользователь предоставляет обратную связь в виде конфигурации (например, `20100`).
5. Программа фильтрует список возможных слов на основе полученной обратной связи.

## Запуск программы

Для запуска программы достаточно выполнить её в терминале:

python3 main.py



# Документация для симуляции игры Wordle

# simulator_games.py


Этот скрипт выполняет симуляцию нескольких игр Wordle, используя алгоритм для вычисления рейтингов слов и сужения списка возможных вариантов на каждом шаге. Основная цель — протестировать, сколько ходов потребуется для угадывания слова с использованием стратегии выбора наилучших слов.

## Содержание
1. [Обзор](#обзор)
2. [Установка](#установка)
3. [Классы и функции](#классы-и-функции)
4. [Запуск программы](#запуск-программы)
5. [Лицензия](#лицензия)

## Обзор
Скрипт симулирует несколько игр Wordle, вычисляя, сколько попыток потребуется для угадывания правильного слова с помощью стратегии выбора слов с наилучшими рейтингами. Стратегия основывается на информации о конфигурациях, полученной после каждого угадывания, что позволяет сузить круг возможных вариантов.

Скрипт использует параллельные вычисления для ускорения процесса симуляции и вычисления среднего количества ходов для множества игр.

## Установка

### Требования
- Python 3.6+
- `multiprocessing` для параллельных вычислений
- Модуль `main`, содержащий функции для вычисления рейтингов слов, получения возможных слов и конфигураций.

### Установка
1. Убедитесь, что у вас есть все зависимости, включая файл `main.py`, содержащий:
   - `valid_words`: список допустимых слов.
   - `raiting_word`: функция для вычисления рейтингов слов.
   - `SIZE_WORD`: размер слова (например, 5).
   - `get_next_possibility_word`: функция для получения следующих возможных слов.
   - `BEST_WORD`: лучшее слово для начала угадывания.

## Классы и функции

### Класс `Wordle`
Класс, представляющий игру Wordle.

#### Методы:
- `__init__(self)`: Конструктор, который случайным образом выбирает правильное слово для игры из списка `valid_words`.
- `get_configuration(self, assumption_word: str) -> list[int]`: Метод, который принимает предполагаемое слово и возвращает конфигурацию в виде списка из чисел, где:
  - `0` означает, что буквы нет в слове.
  - `1` означает, что буква есть в слове, но в другом месте.
  - `2` означает, что буква на правильной позиции.

---

### Функция `simulate_single_game(_)`
Симулирует одну игру Wordle. Эта функция использует стратегию угадывания с наибольшим рейтингом, повторяя шаги, пока не угадает правильное слово. Возвращает количество ходов, затраченных на угадывание.

---

### Функция `simulate_games_parallel(num_games: int = 100)`
Симулирует несколько игр Wordle параллельно. Использует многозадачность с помощью пула процессов для ускорения симуляции. Параметр `num_games` задает количество симулируемых игр.

---

### Функция `plot_attempts_distribution(attempts_list)`
Печатает распределение количества попыток для множества игр. Для каждого количества попыток рисуется гистограмма, показывающая, с какой частотой оно встречается среди всех симулированных игр.

---

## Запуск программы

Для запуска программы необходимо передать количество симуляций как аргумент командной строки:

python wordle_simulation.py <num_simulations>



## Мои результаты:

num_simulations = 100
average attempts to guess: 4.79
